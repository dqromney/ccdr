package com.dqr;

import com.dqr.hitbtc.HitbtcDataReceiver;
import com.dqr.poloniex.PoloniexDataReceiver;
import lombok.extern.java.Log;
import org.json.JSONObject;

import java.io.IOException;

/**
 * Main driver.
 * <p>
 * Created by dqromney on 10/21/17.
 */
@Log
public class Main {

    private static JSONObject jObject = null;

    public static void main(String[] args) throws IOException {

        // BTC/USD
        if (false) {
            PoloniexDataReceiver poloniexDr = new PoloniexDataReceiver();
            poloniexDr.init(args);
            poloniexDr.execute();

            // BTC/USD
            HitbtcDataReceiver hitbtcDr = new HitbtcDataReceiver();
            hitbtcDr.init(args);
            hitbtcDr.execute();
        }

            // Everything
            DataReceiver dr = new DataReceiver();
            dr.init(args);
            dr.execute();

// {"MarketDataIncrementalRefreshV1":{"seqNo":8394743,"symbol":"BCCETH","exchangeStatus":"working","ask":[{"price":"1.167047","size":1},{"price":"1.167149","size":0},{"price":"1.178648","size":0},{"price":"1.178772","size":460},{"price":"1.187218","size":490},{"price":"1.187757","size":0},{"price":"1.197839","size":1500},{"price":"1.213769","size":0},{"price":"1.224863","size":1020},{"price":"1.227981","size":0},{"price":"1.254917","size":13040},{"price":"1.255336","size":0}],"bid":[{"price":"1.113452","size":1},{"price":"1.113350","size":0},{"price":"1.101929","size":470},{"price":"1.101850","size":0},{"price":"1.096193","size":400},{"price":"1.096100","size":0},{"price":"1.084628","size":1530},{"price":"1.084588","size":0},{"price":"1.073044","size":0},{"price":"1.072655","size":3562},{"price":"1.060332","size":0},{"price":"1.054030","size":14040},{"price":"0.425910","size":0},{"price":"0.424520","size":3000}],"trade":[{"price":"1.141820","size":65,"tradeId":56232922,"timestamp":1508647477727,"side":"buy"}],"timestamp":1508647477086}}
// {"MarketDataIncrementalRefreshV1":{"seqNo":10116322,"symbol":"DASHBTC","exchangeStatus":"working","ask":[{"price":"0.049565","size":0},{"price":"0.049752","size":4910},{"price":"0.049776","size":0},{"price":"0.049858","size":4240},{"price":"0.049860","size":0},{"price":"0.049938","size":24240},{"price":"0.049950","size":0},{"price":"0.050054","size":17140},{"price":"0.050056","size":0},{"price":"0.050159","size":54240},{"price":"0.050161","size":0},{"price":"0.050221","size":234658},{"price":"0.050235","size":0},{"price":"0.050892","size":84631},{"price":"0.051002","size":0}],"bid":[{"price":"0.049237","size":230},{"price":"0.049236","size":0},{"price":"0.049063","size":410},{"price":"0.049062","size":0},{"price":"0.048877","size":4040},{"price":"0.048876","size":2350},{"price":"0.048875","size":0},{"price":"0.048868","size":21100},{"price":"0.048866","size":0},{"price":"0.048853","size":15350},{"price":"0.048851","size":0},{"price":"0.048843","size":15350},{"price":"0.048841","size":0},{"price":"0.048837","size":21350},{"price":"0.048835","size":0},{"price":"0.048833","size":15350},{"price":"0.048831","size":0},{"price":"0.048826","size":25350},{"price":"0.048824","size":0},{"price":"0.048823","size":15239},{"price":"0.048822","size":31410},{"price":"0.048815","size":55350},{"price":"0.048813","size":0},{"price":"0.048811","size":35239},{"price":"0.048809","size":0},{"price":"0.048805","size":45239},{"price":"0.048803","size":0},{"price":"0.048800","size":65239},{"price":"0.048798","size":0},{"price":"0.048795","size":52350},{"price":"0.048793","size":0},{"price":"0.048790","size":62351},{"price":"0.048788","size":0},{"price":"0.048786","size":32150},{"price":"0.048784","size":0},{"price":"0.048780","size":62350},{"price":"0.048778","size":0},{"price":"0.048775","size":260329},{"price":"0.048773","size":262451},{"price":"0.048769","size":232451},{"price":"0.048555","size":0}],"trade":[],"timestamp":1508809078475}}
// {"MarketDataSnapshotFullRefresh":{"snapshotSeqNo":11206791,"symbol":"BTCUSD","exchangeStatus":"working","ask":[{"price":"5631.18","size":2},{"price":"5631.19","size":243},{"price":"5631.20","size":19},{"price":"5633.19","size":51},{"price":"5634.50","size":2},{"price":"5634.87","size":16},{"price":"5637.60","size":36},{"price":"5639.80","size":2},{"price":"5640.00","size":5},{"price":"5640.63","size":20},{"price":"5640.87","size":20},{"price":"5643.55","size":140},{"price":"5644.04","size":200},{"price":"5645.03","size":4},{"price":"5646.60","size":220},{"price":"5650.70","size":152},{"price":"5651.50","size":381},{"price":"5653.94","size":300},{"price":"5654.56","size":240},{"price":"5657.43","size":4},{"price":"5657.72","size":15},{"price":"5659.26","size":200},{"price":"5661.92","size":350},{"price":"5667.71","size":3},{"price":"5669.48","size":410},{"price":"5672.85","size":242},{"price":"5679.15","size":3},{"price":"5685.87","size":14},{"price":"5689.00","size":8},{"price":"5690.41","size":4},{"price":"5697.92","size":195},{"price":"5697.93","size":624},{"price":"5700.25","size":500},{"price":"5701.66","size":5},{"price":"5702.90","size":450},{"price":"5704.19","size":2},{"price":"5704.30","size":650},{"price":"5705.12","size":1},{"price":"5710.80","size":1346},{"price":"5712.06","size":4},{"price":"5713.10","size":4},{"price":"5714.01","size":10},{"price":"5719.98","size":195},{"price":"5727.05","size":10},{"price":"5727.06","size":4},{"price":"5732.38","size":750},{"price":"5732.94","size":4},{"price":"5742.16","size":38},{"price":"5745.71","size":5},{"price":"5746.18","size":8},{"price":"5747.80","size":730},{"price":"5757.41","size":6},{"price":"5765.44","size":6},{"price":"5767.11","size":6},{"price":"5770.31","size":13},{"price":"5771.62","size":4000},{"price":"5789.10","size":6},{"price":"5794.66","size":8000},{"price":"5798.46","size":27},{"price":"5800.00","size":59},{"price":"5800.35","size":6},{"price":"5800.81","size":6},{"price":"5823.45","size":4782},{"price":"5824.92","size":6},{"price":"5825.95","size":7},{"price":"5847.97","size":9},{"price":"5859.37","size":9},{"price":"5868.23","size":12},{"price":"5870.00","size":10},{"price":"5871.05","size":10},{"price":"5882.13","size":12},{"price":"5890.70","size":14},{"price":"5900.00","size":6},{"price":"5901.93","size":17},{"price":"5913.16","size":20},{"price":"5924.40","size":24},{"price":"5925.00","size":99},{"price":"5940.00","size":200},{"price":"5945.63","size":33},{"price":"5949.00","size":5},{"price":"5950.00","size":1},{"price":"5956.89","size":52},{"price":"5968.14","size":96},{"price":"5970.37","size":1},{"price":"5974.00","size":100},{"price":"5999.17","size":1},{"price":"5999.99","size":20},{"price":"6000.00","size":246},{"price":"6000.56","size":1},{"price":"6017.82","size":1},{"price":"6020.00","size":37},{"price":"6040.10","size":1},{"price":"6049.00","size":1},{"price":"6050.00","size":5},{"price":"6050.19","size":35},{"price":"6065.00","size":1},{"price":"6070.00","size":20},{"price":"6081.00","size":5},{"price":"6088.33","size":1},{"price":"6094.85","size":55},{"price":"6099.00","size":22},{"price":"6099.99","size":3},{"price":"6100.00","size":336},{"price":"6100.96","size":136},{"price":"6104.00","size":1},{"price":"6120.00","size":21},{"price":"6124.16","size":2},{"price":"6132.15","size":17},{"price":"6136.68","size":6},{"price":"6148.76","size":2},{"price":"6150.00","size":22},{"price":"6151.33","size":50},{"price":"6151.87","size":50},{"price":"6152.33","size":50},{"price":"6153.07","size":50},{"price":"6153.90","size":50},{"price":"6154.57","size":50},{"price":"6155.09","size":50},{"price":"6155.74","size":50},{"price":"6156.40","size":50},{"price":"6157.06","size":50},{"price":"6157.57","size":50},{"price":"6158.21","size":50},{"price":"6158.69","size":50},{"price":"6159.09","size":50},{"price":"6159.70","size":50},{"price":"6160.00","size":1},{"price":"6160.03","size":50},{"price":"6160.44","size":50},{"price":"6160.93","size":50},{"price":"6161.23","size":50},{"price":"6162.20","size":50},{"price":"6162.77","size":1},{"price":"6163.26","size":50},{"price":"6164.04","size":50},{"price":"6164.86","size":50},{"price":"6165.17","size":50},{"price":"6165.88","size":50},{"price":"6166.64","size":50},{"price":"6167.15","size":50},{"price":"6167.55","size":50},{"price":"6168.00","size":10},{"price":"6168.05","size":50},{"price":"6168.31","size":50},{"price":"6168.78","size":50},{"price":"6169.13","size":50},{"price":"6169.56","size":50},{"price":"6169.98","size":50},{"price":"6170.60","size":50},{"price":"6171.09","size":50},{"price":"6171.16","size":200},{"price":"6171.91","size":50},{"price":"6172.68","size":50},{"price":"6173.33","size":50},{"price":"6175.07","size":50},{"price":"6176.28","size":50},{"price":"6177.38","size":50},{"price":"6177.89","size":50},{"price":"6178.39","size":50},{"price":"6179.07","size":50},{"price":"6179.70","size":50},{"price":"6180.06","size":50},{"price":"6180.51","size":50},{"price":"6181.00","size":5},{"price":"6181.31","size":31},{"price":"6190.00","size":2},{"price":"6197.99","size":1118},{"price":"6200.00","size":2451},{"price":"6201.00","size":100},{"price":"6201.52","size":100},{"price":"6201.89","size":100},{"price":"6202.20","size":100},{"price":"6202.50","size":100},{"price":"6202.65","size":100},{"price":"6202.82","size":100},{"price":"6202.96","size":100},{"price":"6203.25","size":100},{"price":"6203.47","size":200},{"price":"6203.81","size":100},{"price":"6204.01","size":100},{"price":"6204.22","size":100},{"price":"6204.46","size":100},{"price":"6204.59","size":100},{"price":"6204.80","size":100},{"price":"6204.92","size":100},{"price":"6205.19","size":100},{"price":"6205.34","size":100},{"price":"6205.46","size":100},{"price":"6205.58","size":100},{"price":"6205.77","size":100},{"price":"6205.94","size":100},{"price":"6206.16","size":100},{"price":"6206.49","size":100},{"price":"6206.82","size":100},{"price":"6207.26","size":100},{"price":"6207.49","size":100},{"price":"6207.77","size":100},{"price":"6208.02","size":100},{"price":"6208.35","size":100},{"price":"6208.61","size":100},{"price":"6209.11","size":100},{"price":"6210.00","size":100},{"price":"6213.59","size":402},{"price":"6214.77","size":151},{"price":"6215.00","size":500},{"price":"6217.16","size":51},{"price":"6219.62","size":110},{"price":"6220.69","size":50},{"price":"6229.49","size":625},{"price":"6246.53","size":432},{"price":"6250.47","size":776},{"price":"6252.07","size":238},{"price":"6253.06","size":442},{"price":"6255.02","size":639},{"price":"6260.32","size":359},{"price":"6262.03","size":67},{"price":"6274.49","size":1105},{"price":"6276.02","size":1671},{"price":"6277.77","size":116},{"price":"6279.54","size":200},{"price":"6280.03","size":548},{"price":"6292.46","size":353},{"price":"6298.00","size":1},{"price":"6299.99","size":1400},{"price":"6300.00","size":206},{"price":"6303.82","size":707},{"price":"6313.13","size":4841},{"price":"6319.51","size":656},{"price":"6329.00","size":1},{"price":"6331.35","size":1215},{"price":"6338.62","size":171},{"price":"6338.94","size":834},{"price":"6347.98","size":2705},{"price":"6348.08","size":393},{"price":"6350.53","size":509},{"price":"6362.92","size":269},{"price":"6375.11","size":309},{"price":"6375.46","size":202},{"price":"6378.37","size":10},{"price":"6380.00","size":1},{"price":"6382.48","size":1696},{"price":"6387.44","size":61},{"price":"6389.25","size":1554},{"price":"6390.86","size":1376},{"price":"6395.21","size":546},{"price":"6398.00","size":1},{"price":"6398.70","size":184},{"price":"6399.99","size":5},{"price":"6400.00","size":512},{"price":"6404.15","size":702},{"price":"6407.56","size":547},{"price":"6408.00","size":12},{"price":"6409.73","size":3251},{"price":"6411.22","size":850},{"price":"6411.81","size":569},{"price":"6415.03","size":77},{"price":"6422.70","size":1},{"price":"6425.99","size":258},{"price":"6427.14","size":857},{"price":"6427.16","size":3672},{"price":"6432.12","size":368},{"price":"6435.41","size":58},{"price":"6438.75","size":2488},{"price":"6444.72","size":1263},{"price":"6445.94","size":3718},{"price":"6446.01","size":303},{"price":"6446.22","size":233},{"price":"6449.58","size":717},{"price":"6454.60","size":3422},{"price":"6454.99","size":508},{"price":"6455.00","size":33},{"price":"6456.52","size":617},{"price":"6463.99","size":108},{"price":"6477.42","size":1323},{"price":"6477.75","size":473},{"price":"6479.89","size":235},{"price":"6481.68","size":201},{"price":"6488.54","size":299},{"price":"6490.00","size":10},{"price":"6498.00","size":1},{"price":"6500.00","size":806},{"price":"6502.38","size":3847},{"price":"6504.19","size":1111},{"price":"6505.03","size":152},{"price":"6508.01","size":52},{"price":"6509.30","size":1611},{"price":"6514.66","size":132},{"price":"6516.21","size":52},{"price":"6519.29","size":633},{"price":"6521.17","size":13},{"price":"6521.38","size":202},{"price":"6529.24","size":430},{"price":"6533.04","size":4357},{"price":"6542.20","size":3342},{"price":"6545.71","size":1930},{"price":"6549.74","size":2802},{"price":"6550.00","size":100},{"price":"6553.65","size":1697},{"price":"6554.98","size":150},{"price":"6555.00","size":33},{"price":"6557.31","size":333},{"price":"6557.83","size":93},{"price":"6563.82","size":51},{"price":"6563.95","size":130},{"price":"6571.40","size":1885},{"price":"6579.87","size":100},{"price":"6580.00","size":6},{"price":"6582.69","size":114},{"price":"6582.72","size":50},{"price":"6584.63","size":74},{"price":"6587.17","size":402},{"price":"6592.12","size":644},{"price":"6598.00","size":1},{"price":"6599.95","size":1514},{"price":"6599.99","size":1200},{"price":"6600.00","size":100},{"price":"6606.20","size":19},{"price":"6606.25","size":1088},{"price":"6610.43","size":3891},{"price":"6611.44","size":2733},{"price":"6619.89","size":215},{"price":"6628.29","size":1504},{"price":"6642.11","size":696},{"price":"6648.56","size":50},{"price":"6650.00","size":50},{"price":"6654.22","size":1446},{"price":"6655.00","size":33},{"price":"6655.20","size":65},{"price":"6658.16","size":809},{"price":"6660.20","size":1538},{"price":"6661.50","size":836},{"price":"6663.56","size":2162},{"price":"6667.23","size":97},{"price":"6675.55","size":764},{"price":"6675.84","size":251},{"price":"6677.02","size":253},{"price":"6680.30","size":517},{"price":"6686.29","size":609},{"price":"6689.34","size":1037},{"price":"6689.50","size":213},{"price":"6690.00","size":10},{"price":"6691.14","size":11},{"price":"6692.44","size":696},{"price":"6694.00","size":732},{"price":"6696.24","size":4994},{"price":"6697.64","size":1497},{"price":"6698.00","size":1},{"price":"6700.00","size":19},{"price":"6714.02","size":54},{"price":"6718.57","size":629},{"price":"6724.92","size":72},{"price":"6726.82","size":1645},{"price":"6728.33","size":555},{"price":"6730.64","size":1357},{"price":"6731.42","size":407},{"price":"6734.02","size":93},{"price":"6737.22","size":3302},{"price":"6745.45","size":690},{"price":"6750.00","size":292},{"price":"6755.00","size":33},{"price":"6755.44","size":2877},{"price":"6760.81","size":1234},{"price":"6770.00","size":30},{"price":"6785.04","size":490},{"price":"6798.00","size":1},{"price":"6828.71","size":289},{"price":"6856.08","size":87},{"price":"6860.26","size":1806},{"price":"6888.61","size":3299},{"price":"6898.00","size":1},{"price":"6915.63","size":6392},{"price":"6930.66","size":102},{"price":"6943.08","size":3480},{"price":"6955.00","size":33},{"price":"6958.67","size":2108},{"price":"6961.62","size":287},{"price":"6963.23","size":2802},{"price":"6981.38","size":116},{"price":"6985.51","size":2338},{"price":"7000.00","size":2},{"price":"7018.72","size":5435},{"price":"7053.62","size":1221},{"price":"7060.79","size":1112},{"price":"7064.63","size":1416},{"price":"7077.51","size":81},{"price":"7082.35","size":1336},{"price":"7096.63","size":991},{"price":"7104.43","size":1181},{"price":"7176.75","size":56},{"price":"7193.56","size":307},{"price":"7285.03","size":1939},{"price":"7294.22","size":567},{"price":"7329.04","size":1680},{"price":"7330.70","size":1160},{"price":"7332.06","size":612},{"price":"7360.21","size":5546},{"price":"7403.00","size":50},{"price":"7413.59","size":878},{"price":"7416.03","size":1730},{"price":"7463.18","size":120},{"price":"7471.80","size":7780},{"price":"7494.09","size":688},{"price":"7495.13","size":1579},{"price":"7500.00","size":1},{"price":"7539.64","size":1284},{"price":"7555.81","size":113},{"price":"7571.27","size":428},{"price":"7579.77","size":3327},{"price":"7579.84","size":1990},{"price":"7613.25","size":503},{"price":"7617.36","size":422},{"price":"7642.00","size":1649},{"price":"7645.51","size":788},{"price":"7649.77","size":189},{"price":"7651.45","size":277},{"price":"7679.86","size":209},{"price":"7738.53","size":261},{"price":"7740.63","size":683},{"price":"7747.93","size":176},{"price":"7749.55","size":1746},{"price":"7764.82","size":2214},{"price":"7772.75","size":5398},{"price":"7785.72","size":291},{"price":"7796.54","size":1462},{"price":"7840.26","size":2817},{"price":"7865.76","size":4670},{"price":"8000.00","size":1},{"price":"8069.10","size":702},{"price":"8224.09","size":4083},{"price":"8456.34","size":544},{"price":"8654.50","size":3691},{"price":"8890.55","size":2857},{"price":"8923.46","size":602},{"price":"8993.50","size":1},{"price":"9000.00","size":1500},{"price":"9181.69","size":1442},{"price":"9298.52","size":1959},{"price":"9665.72","size":1850},{"price":"9741.52","size":1244},{"price":"9899.99","size":468},{"price":"9995.58","size":7232},{"price":"10000.00","size":1},{"price":"10238.70","size":244},{"price":"10312.14","size":1409},{"price":"19899.99","size":500},{"price":"106040.44","size":8}],"bid":[{"price":"5624.60","size":2},{"price":"5617.75","size":20},{"price":"5616.47","size":101},{"price":"5613.01","size":4},{"price":"5613.00","size":150},{"price":"5612.85","size":7},{"price":"5611.10","size":14},{"price":"5609.20","size":43},{"price":"5604.57","size":20},{"price":"5603.42","size":20},{"price":"5602.07","size":83},{"price":"5601.86","size":100},{"price":"5600.42","size":4},{"price":"5599.81","size":200},{"price":"5596.16","size":200},{"price":"5590.45","size":4},{"price":"5579.64","size":13},{"price":"5579.03","size":4},{"price":"5554.69","size":3},{"price":"5551.60","size":22},{"price":"5545.26","size":5},{"price":"5544.64","size":4},{"price":"5540.00","size":1},{"price":"5534.14","size":4},{"price":"5523.56","size":11},{"price":"5522.00","size":28},{"price":"5520.12","size":4},{"price":"5506.14","size":5},{"price":"5501.00","size":4},{"price":"5500.00","size":26},{"price":"5499.61","size":5},{"price":"5495.53","size":11},{"price":"5489.09","size":6},{"price":"5475.00","size":1},{"price":"5467.49","size":63},{"price":"5464.82","size":5},{"price":"5463.75","size":6},{"price":"5442.87","size":21},{"price":"5442.81","size":7},{"price":"5442.35","size":6},{"price":"5432.03","size":6},{"price":"5424.97","size":7},{"price":"5420.00","size":100},{"price":"5410.10","size":8},{"price":"5410.00","size":5},{"price":"5401.10","size":35},{"price":"5401.01","size":300},{"price":"5401.00","size":703},{"price":"5400.00","size":556},{"price":"5399.01","size":9},{"price":"5399.00","size":100},{"price":"5389.97","size":100},{"price":"5385.00","size":20},{"price":"5380.00","size":50},{"price":"5374.96","size":9},{"price":"5365.47","size":12},{"price":"5364.00","size":65},{"price":"5363.72","size":11},{"price":"5350.00","size":50},{"price":"5341.26","size":14},{"price":"5335.93","size":20},{"price":"5330.03","size":15},{"price":"5320.01","size":195},{"price":"5320.00","size":100},{"price":"5307.56","size":23},{"price":"5304.98","size":32},{"price":"5301.10","size":50},{"price":"5300.75","size":1},{"price":"5300.00","size":29},{"price":"5293.73","size":47},{"price":"5282.48","size":93},{"price":"5257.00","size":300},{"price":"5251.15","size":2},{"price":"5250.00","size":38},{"price":"5244.04","size":16},{"price":"5201.15","size":2},{"price":"5201.10","size":66},{"price":"5200.00","size":193},{"price":"5180.00","size":14},{"price":"5151.15","size":1},{"price":"5150.00","size":1},{"price":"5110.00","size":22},{"price":"5105.00","size":10},{"price":"5100.80","size":1},{"price":"5100.00","size":753},{"price":"5061.40","size":40},{"price":"5050.55","size":100},{"price":"5050.00","size":18},{"price":"5044.72","size":187},{"price":"5040.57","size":319},{"price":"5038.00","size":1},{"price":"5036.44","size":555},{"price":"5030.94","size":98},{"price":"5030.93","size":279},{"price":"5023.48","size":214},{"price":"5019.67","size":54},{"price":"5019.49","size":10},{"price":"5017.88","size":26},{"price":"5016.80","size":810},{"price":"5003.00","size":11},{"price":"5002.22","size":510},{"price":"5001.97","size":1609},{"price":"5001.00","size":54},{"price":"5000.40","size":1},{"price":"5000.01","size":12},{"price":"5000.00","size":2179},{"price":"4990.85","size":1232},{"price":"4984.42","size":1114},{"price":"4966.44","size":10},{"price":"4960.17","size":200},{"price":"4960.00","size":6},{"price":"4959.57","size":1400},{"price":"4957.81","size":1234},{"price":"4950.00","size":1},{"price":"4943.42","size":13},{"price":"4941.81","size":50},{"price":"4941.39","size":149},{"price":"4939.10","size":12},{"price":"4935.59","size":95},{"price":"4935.45","size":100},{"price":"4933.29","size":9},{"price":"4932.70","size":67},{"price":"4927.43","size":303},{"price":"4923.51","size":1455},{"price":"4922.76","size":1},{"price":"4917.00","size":1},{"price":"4913.00","size":1},{"price":"4909.49","size":6},{"price":"4900.00","size":21},{"price":"4899.79","size":807},{"price":"4899.00","size":1},{"price":"4898.73","size":1068},{"price":"4896.98","size":151},{"price":"4889.90","size":472},{"price":"4887.61","size":720},{"price":"4886.29","size":76},{"price":"4877.13","size":796},{"price":"4874.26","size":1435},{"price":"4873.67","size":1884},{"price":"4871.59","size":711},{"price":"4868.81","size":1066},{"price":"4868.13","size":5212},{"price":"4868.10","size":50},{"price":"4854.49","size":1342},{"price":"4852.83","size":2742},{"price":"4850.00","size":3},{"price":"4849.50","size":1},{"price":"4848.73","size":267},{"price":"4844.87","size":5744},{"price":"4843.67","size":1050},{"price":"4837.73","size":3727},{"price":"4834.70","size":54},{"price":"4830.43","size":2634},{"price":"4827.82","size":238},{"price":"4826.11","size":2157},{"price":"4823.63","size":3879},{"price":"4822.04","size":224},{"price":"4811.23","size":672},{"price":"4805.62","size":731},{"price":"4800.00","size":285},{"price":"4797.64","size":102},{"price":"4797.55","size":513},{"price":"4792.34","size":965},{"price":"4788.29","size":11},{"price":"4780.23","size":831},{"price":"4779.97","size":199},{"price":"4776.24","size":302},{"price":"4772.97","size":1552},{"price":"4769.58","size":305},{"price":"4767.66","size":93},{"price":"4763.93","size":793},{"price":"4761.82","size":2011},{"price":"4760.00","size":2},{"price":"4757.85","size":376},{"price":"4756.52","size":556},{"price":"4755.17","size":1924},{"price":"4752.86","size":524},{"price":"4750.00","size":296},{"price":"4743.23","size":51},{"price":"4738.48","size":11560},{"price":"4732.10","size":473},{"price":"4730.76","size":51},{"price":"4729.97","size":6569},{"price":"4727.12","size":1529},{"price":"4720.62","size":653},{"price":"4716.11","size":1604},{"price":"4712.51","size":1916},{"price":"4701.87","size":885},{"price":"4700.00","size":806},{"price":"4699.71","size":330},{"price":"4693.58","size":264},{"price":"4692.88","size":496},{"price":"4690.50","size":1},{"price":"4690.34","size":358},{"price":"4682.86","size":105},{"price":"4680.00","size":10},{"price":"4678.00","size":927},{"price":"4675.47","size":795},{"price":"4673.12","size":314},{"price":"4671.61","size":125},{"price":"4670.14","size":1235},{"price":"4667.00","size":115},{"price":"4666.20","size":3078},{"price":"4664.66","size":1654},{"price":"4658.01","size":10},{"price":"4657.97","size":1105},{"price":"4657.96","size":498},{"price":"4655.82","size":275},{"price":"4654.49","size":1908},{"price":"4648.14","size":1978},{"price":"4647.00","size":2},{"price":"4643.93","size":60},{"price":"4643.45","size":402},{"price":"4637.24","size":1121},{"price":"4636.13","size":807},{"price":"4634.29","size":134},{"price":"4628.05","size":85},{"price":"4623.36","size":4096},{"price":"4622.71","size":50},{"price":"4616.72","size":1471},{"price":"4611.78","size":295},{"price":"4607.27","size":170},{"price":"4600.49","size":3633},{"price":"4600.00","size":31},{"price":"4594.68","size":268},{"price":"4592.42","size":57},{"price":"4591.91","size":10},{"price":"4585.67","size":1525},{"price":"4584.68","size":173},{"price":"4582.07","size":192},{"price":"4578.47","size":205},{"price":"4575.21","size":1376},{"price":"4575.02","size":231},{"price":"4569.60","size":65},{"price":"4568.00","size":1566},{"price":"4561.00","size":27},{"price":"4550.00","size":210},{"price":"4548.76","size":530},{"price":"4545.79","size":6913},{"price":"4543.95","size":229},{"price":"4543.91","size":338},{"price":"4542.46","size":1614},{"price":"4538.00","size":1},{"price":"4537.86","size":323},{"price":"4537.05","size":122},{"price":"4536.12","size":1078},{"price":"4530.84","size":4452},{"price":"4526.37","size":1667},{"price":"4519.00","size":305},{"price":"4517.39","size":372},{"price":"4517.02","size":4872},{"price":"4511.56","size":51},{"price":"4510.52","size":425},{"price":"4509.67","size":503},{"price":"4503.17","size":1082},{"price":"4501.99","size":1207},{"price":"4500.00","size":190},{"price":"4495.10","size":708},{"price":"4490.00","size":105},{"price":"4476.39","size":121},{"price":"4450.00","size":4},{"price":"4400.00","size":30},{"price":"4387.69","size":3605},{"price":"4386.03","size":5065},{"price":"4374.70","size":1042},{"price":"4373.63","size":983},{"price":"4311.89","size":3},{"price":"4300.00","size":20},{"price":"4299.28","size":249},{"price":"4285.50","size":426},{"price":"4281.86","size":4639},{"price":"4261.89","size":311},{"price":"4260.28","size":1358},{"price":"4252.00","size":302},{"price":"4240.34","size":103},{"price":"4234.40","size":3132},{"price":"4230.00","size":3},{"price":"4215.85","size":3794},{"price":"4204.69","size":3439},{"price":"4200.00","size":240},{"price":"4174.92","size":3776},{"price":"4174.61","size":629},{"price":"4149.88","size":60},{"price":"4117.65","size":1366},{"price":"4111.10","size":500},{"price":"4106.89","size":6167},{"price":"4101.52","size":4772},{"price":"4059.84","size":266},{"price":"4052.25","size":253},{"price":"4051.10","size":500},{"price":"4038.00","size":1},{"price":"4024.55","size":1},{"price":"4011.10","size":500},{"price":"4001.00","size":1},{"price":"4000.00","size":21},{"price":"3989.73","size":1},{"price":"3963.99","size":3},{"price":"3963.38","size":317},{"price":"3951.10","size":500},{"price":"3941.48","size":2939},{"price":"3939.31","size":1059},{"price":"3927.79","size":1643},{"price":"3912.00","size":1},{"price":"3911.10","size":500},{"price":"3908.44","size":480},{"price":"3900.00","size":126},{"price":"3889.42","size":231},{"price":"3879.11","size":345},{"price":"3851.10","size":500},{"price":"3811.10","size":500},{"price":"3800.00","size":9},{"price":"3779.60","size":6526},{"price":"3767.12","size":2784},{"price":"3751.10","size":500},{"price":"3744.03","size":5},{"price":"3728.14","size":304},{"price":"3715.87","size":4697},{"price":"3711.10","size":500},{"price":"3708.77","size":1039},{"price":"3700.00","size":12},{"price":"3691.15","size":2000},{"price":"3668.96","size":1373},{"price":"3660.00","size":3},{"price":"3651.10","size":160},{"price":"3643.43","size":1132},{"price":"3632.03","size":331},{"price":"3617.70","size":3643},{"price":"3611.10","size":500},{"price":"3607.74","size":496},{"price":"3600.00","size":16},{"price":"3591.73","size":136},{"price":"3588.96","size":2058},{"price":"3563.60","size":969},{"price":"3558.53","size":1034},{"price":"3538.00","size":1},{"price":"3535.74","size":144},{"price":"3511.10","size":398},{"price":"3507.00","size":4},{"price":"3502.87","size":550},{"price":"3500.04","size":16},{"price":"3500.00","size":13},{"price":"3493.14","size":959},{"price":"3489.08","size":484},{"price":"3486.97","size":1597},{"price":"3472.03","size":1},{"price":"3467.89","size":1997},{"price":"3455.81","size":2122},{"price":"3441.62","size":2346},{"price":"3430.00","size":1000},{"price":"3413.88","size":4807},{"price":"3411.00","size":1},{"price":"3406.28","size":7910},{"price":"3400.00","size":11},{"price":"3387.26","size":502},{"price":"3350.61","size":178},{"price":"3350.00","size":1100},{"price":"3300.00","size":73},{"price":"3294.50","size":1},{"price":"3265.00","size":4},{"price":"3235.41","size":1},{"price":"3213.14","size":528},{"price":"3205.00","size":4},{"price":"3200.00","size":11},{"price":"3150.00","size":4},{"price":"3134.00","size":20},{"price":"3107.34","size":1},{"price":"3100.00","size":10},{"price":"3038.00","size":1},{"price":"3022.14","size":3946},{"price":"3002.23","size":1800},{"price":"3000.00","size":11},{"price":"2922.29","size":1},{"price":"2900.00","size":1},{"price":"2888.88","size":5},{"price":"2867.12","size":200},{"price":"2810.00","size":5},{"price":"2800.17","size":586},{"price":"2800.00","size":2},{"price":"2750.00","size":7},{"price":"2735.63","size":200},{"price":"2700.00","size":1},{"price":"2640.00","size":1068},{"price":"2611.83","size":3166},{"price":"2610.00","size":8},{"price":"2600.00","size":5},{"price":"2580.00","size":5},{"price":"2545.30","size":100},{"price":"2538.00","size":1},{"price":"2505.00","size":8},{"price":"2480.41","size":8255},{"price":"2405.00","size":9},{"price":"2400.00","size":1},{"price":"2310.00","size":9},{"price":"2300.00","size":2},{"price":"2254.92","size":6592},{"price":"2188.88","size":5},{"price":"2100.00","size":1},{"price":"2096.00","size":1},{"price":"2059.89","size":5834},{"price":"2038.00","size":1},{"price":"2000.00","size":17},{"price":"1990.12","size":1},{"price":"1904.92","size":5406},{"price":"1900.00","size":1},{"price":"1850.00","size":1},{"price":"1800.00","size":5},{"price":"1793.70","size":1},{"price":"1700.00","size":27},{"price":"1686.89","size":140},{"price":"1640.50","size":1},{"price":"1606.93","size":50},{"price":"1517.56","size":3068},{"price":"1513.05","size":33},{"price":"1500.00","size":1},{"price":"1486.40","size":1},{"price":"1470.00","size":1},{"price":"1420.00","size":100},{"price":"1400.00","size":1},{"price":"1340.04","size":2717},{"price":"1225.00","size":28},{"price":"1116.70","size":2095},{"price":"1100.00","size":21},{"price":"1050.00","size":10},{"price":"950.00","size":20},{"price":"910.00","size":20},{"price":"900.00","size":1},{"price":"860.02","size":10},{"price":"844.59","size":342},{"price":"810.00","size":10},{"price":"804.63","size":130},{"price":"800.02","size":2},{"price":"780.01","size":60},{"price":"700.00","size":50},{"price":"670.00","size":1},{"price":"650.00","size":1983},{"price":"600.00","size":25},{"price":"599.13","size":100},{"price":"590.51","size":1},{"price":"510.00","size":40},{"price":"483.00","size":1},{"price":"439.90","size":1},{"price":"435.24","size":10},{"price":"435.00","size":80},{"price":"430.00","size":20},{"price":"411.00","size":10},{"price":"405.00","size":15},{"price":"401.60","size":50},{"price":"390.00","size":700},{"price":"385.00","size":505},{"price":"380.00","size":5},{"price":"375.00","size":5},{"price":"370.00","size":1005},{"price":"365.00","size":5},{"price":"355.00","size":5},{"price":"350.00","size":1000},{"price":"252.00","size":2},{"price":"247.86","size":1},{"price":"240.00","size":2},{"price":"232.00","size":1},{"price":"218.00","size":100},{"price":"200.50","size":12468},{"price":"181.00","size":150},{"price":"151.00","size":150},{"price":"150.00","size":19801},{"price":"101.00","size":218838},{"price":"60.00","size":1},{"price":"57.00","size":1},{"price":"56.35","size":1},{"price":"34.68","size":1},{"price":"33.00","size":1},{"price":"21.00","size":95},{"price":"15.99","size":1},{"price":"11.74","size":76},{"price":"10.00","size":3},{"price":"8.00","size":104},{"price":"6.25","size":1},{"price":"6.00","size":102},{"price":"5.00","size":121},{"price":"4.14","size":100},{"price":"3.67","size":1},{"price":"2.70","size":100},{"price":"2.11","size":100},{"price":"2.00","size":1},{"price":"1.96","size":99},{"price":"1.30","size":101},{"price":"1.00","size":1273},{"price":"0.90","size":104},{"price":"0.76","size":108},{"price":"0.40","size":114},{"price":"0.19","size":15001},{"price":"0.14","size":3000},{"price":"0.13","size":10000},{"price":"0.10","size":480},{"price":"0.04","size":21},{"price":"0.03","size":5000},{"price":"0.02","size":36750},{"price":"0.01","size":29706}],"timestamp":1508814639228}}

//        String json1 = "{\"MarketDataIncrementalRefresh\":{\"seqNo\":8394743,\"symbol\":\"BCCETH\",\"exchangeStatus\":\"working\"," +
//                "\"ask\":[{\"price\":\"1.167047\",\"size\":1},{\"price\":\"1.167149\",\"size\":0},{\"price\":\"1.178648\",\"size\":0},{\"price\":\"1.178772\",\"size\":460},{\"price\":\"1.187218\",\"size\":490},{\"price\":\"1.187757\",\"size\":0},{\"price\":\"1.197839\",\"size\":1500},{\"price\":\"1.213769\",\"size\":0},{\"price\":\"1.224863\",\"size\":1020},{\"price\":\"1.227981\",\"size\":0},{\"price\":\"1.254917\",\"size\":13040},{\"price\":\"1.255336\",\"size\":0}]," +
//                "\"bid\":[{\"price\":\"1.113452\",\"size\":1},{\"price\":\"1.113350\",\"size\":0},{\"price\":\"1.101929\",\"size\":470},{\"price\":\"1.101850\",\"size\":0},{\"price\":\"1.096193\",\"size\":400},{\"price\":\"1.096100\",\"size\":0},{\"price\":\"1.084628\",\"size\":1530},{\"price\":\"1.084588\",\"size\":0},{\"price\":\"1.073044\",\"size\":0},{\"price\":\"1.072655\",\"size\":3562},{\"price\":\"1.060332\",\"size\":0},{\"price\":\"1.054030\",\"size\":14040},{\"price\":\"0.425910\",\"size\":0},{\"price\":\"0.424520\",\"size\":3000}]," +
//                "\"trade\":[{\"price\":\"1.141820\",\"size\":65,\"tradeId\":56232922,\"timestamp\":1508647477727,\"side\":\"buy\"}]," +
//                "\"timestamp\":1508647477086}}";

//        jObject = new JSONObject(json);
//        JSONObject jsonObject = jObject.getJSONObject("MarketDataIncrementalRefresh");
//
//        Long seqNo = jsonObject.getLong("seqNo");
//        System.out.println(seqNo);
//        String symbol = jsonObject.getString("symbol");
//        System.out.println(symbol);
//        String exchangeStatus = jsonObject.getString("exchangeStatus");
//        System.out.println(exchangeStatus);

//        try {
//            // ObjectMapper mapper = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);
//            ObjectMapper mapper = new ObjectMapper();
//            // RootObject refresh = mapper.readValue(json1, RootObject.class);
//            MarketDataIncrementalRefresh refresh = mapper.readValue(json1, MarketDataIncrementalRefresh.class);
//            System.out.println(refresh.toString());
//
//            //Pretty print
//            System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(refresh));
//
//        } catch (JsonGenerationException e) {
//            e.printStackTrace();
//        } catch (JsonMappingException e) {
//            e.printStackTrace();
//        } catch (IOException e) {
//            e.printStackTrace();
//        }
    }
}
